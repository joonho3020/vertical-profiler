
CC=g++
CXXFLAGS += -Wall -O2 # use CFLAGS for C
CXXFLAGS += -g

OBJ_DIR := obj
INCLUDES = -I${CONDA_PREFIX}/include/boost


all: default


$(OBJ_DIR)/string_parser.o : src/string_parser.cc
	$(CC) -c $< -o $@ $(INCLUDES)

$(OBJ_DIR)/file_splitter.o : src/file_splitter.cc
	$(CC) -c $< -o $@ $(INCLUDES) -D STANDALONE

file_splitter : $(OBJ_DIR)/file_splitter.o $(OBJ_DIR)/string_parser.o
	$(CC) $^ -o $@ $(INCLUDES) -D STANDALONE

.PHONY: default
default: file_splitter

.PHONY: clean
clean:
	rm -rf $(OBJ_DIR) file_splitter
